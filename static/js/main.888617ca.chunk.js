(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,a,n){e.exports=n(34)},29:function(e,a,n){},34:function(e,a,n){"use strict";n.r(a);var t=n(0),l=n.n(t),r=n(12),o=n.n(r),i=n(3),c=n(15),u=n(21),s=n(4),m=[{id:1,name:"Guitar",image:"/media/guitar.png"},{id:2,name:"Piano",image:"/media/piano.png"},{id:3,name:"Violoncelle",image:"/media/violoncelle.jpeg"},{id:4,name:"Glucophone",image:"/media/glucophone.jpeg"},{id:5,name:"Aileen",image:"/media/aileen.jpeg"},{id:6,name:"Guitar",image:"/media/guitar.png"},{id:7,name:"Piano",image:"/media/piano.png"},{id:8,name:"Violoncelle",image:"/media/violoncelle.jpeg"},{id:9,name:"Glucophone",image:"/media/glucophone.jpeg"},{id:10,name:"Aileen",image:"/media/aileen.jpeg"}],d=[{id:1,name:"Song 1",author:"Author 1",duration:"120000",image:null,isFavourite:!1},{id:2,name:"Song 2",author:"Author 2",duration:"120000",image:null,isFavourite:!1},{id:4,name:"Song 3",author:"Author 3",duration:"120000",image:null,isFavourite:!1},{id:5,name:"Song 4",author:"Author 4",duration:"120000",image:null,isFavourite:!1},{id:6,name:"Song 5",author:"Author 5",duration:"120000",image:null,isFavourite:!1},{id:7,name:"Song 6",author:"Author 6",duration:"120000",image:null,isFavourite:!1},{id:8,name:"Song 7",author:"Author 7",duration:"120000",image:null,isFavourite:!1},{id:9,name:"Song 8",author:"Author 8",duration:"120000",image:null,isFavourite:!1},{id:10,name:"Song 8",author:"Author 8",duration:"120000",image:null,isFavourite:!1}];function g(e){return function(a){a({type:"SET_LOADING_STATUS",payload:e})}}var p={albums:[],songs:[],playedSong:null,isLoading:!1};var E=n(19),f=Object(c.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ALBUM_LIST":return Object(s.a)(Object(s.a)({},e),{},{albums:a.payload});case"SET_SONG_LIST":return Object(s.a)(Object(s.a)({},e),{},{songs:a.payload});case"SET_PLAYED_SONG":return Object(s.a)(Object(s.a)({},e),{},{playedSong:a.payload});case"SET_FAVOURITE_STATUS":var n=Object(u.a)(e.songs),t=n.findIndex((function(e){return e.id===a.payload.songId}));return t&&(n[t].isFavourite=a.payload.isFavourite),Object(s.a)(Object(s.a)({},e),{},{songs:n,playedSong:Object(s.a)(Object(s.a)({},e.playedSong),{},{isFavourite:a.payload.isFavourite})});case"SET_LOADING_STATUS":return Object(s.a)(Object(s.a)({},e),{},{isLoading:a.payload});case"SET_PREV_SONG":var l,r=e.songs.findIndex((function(a){return a.id===e.playedSong.id}));return r&&(l=r>0?r-1:e.songs.length-1),Object(s.a)(Object(s.a)({},e),{},{playedSong:e.songs[l]});case"SET_NEXT_SONG":var o,i=e.songs.findIndex((function(a){return a.id===e.playedSong.id}));return i&&(o=i===e.songs.length?0:i+1),Object(s.a)(Object(s.a)({},e),{},{playedSong:e.songs[o]});default:return e}}),Object(c.a)(E.a)),b=(n(29),n(9)),v=n(2),y=function(e){var a=e.children;return l.a.createElement("div",{className:"container"},a)},S=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"loader"}))},h=function(){return l.a.createElement("svg",{className:"waves",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 26 110 38",preserveAspectRatio:"none",shapeRendering:"auto"},l.a.createElement("defs",null,l.a.createElement("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})),l.a.createElement("g",{className:"gentle-wave"},l.a.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:"rgba(121,17,153,0.3)"}),l.a.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"rgba(121,17,153,0.2)"}),l.a.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:"rgba(121,17,153,0.3)"}),l.a.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"7",fill:"rgba(121,17,153,0.2)"})))},O=function(e){var a=e.album;return l.a.createElement("div",{className:"flex-col"},l.a.createElement(b.b,{to:"/albums/".concat(a.id,"/songs"),className:"album-container",style:{backgroundImage:"url(".concat(a.image,")")}},l.a.createElement(h,null),l.a.createElement("div",{className:"album-name"},a.name)))},N=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.albums})),n=Object(i.c)((function(e){return e.isLoading}));return Object(t.useEffect)((function(){e(g(!0));var a=setTimeout((function(){e((function(e){Promise.resolve(m).then((function(a){e({type:"SET_ALBUM_LIST",payload:a})})).catch((function(e){return console.error(e)})).finally((function(){e({type:"SET_LOADING_STATUS",payload:!1})}))}))}),1500);return function(){return clearTimeout(a)}}),[e]),l.a.createElement(l.a.Fragment,null,n?l.a.createElement(S,null):l.a.createElement("div",{className:"album-list-container flex-container"},a.map((function(e){return l.a.createElement(O,{key:e.id,album:e})}))))},j=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.playedSong}));return l.a.createElement("button",{className:"player-btn-favourite",onClick:function(){var n;e((n={songId:a.id,isFavourite:!a.isFavourite},function(e){e({type:"SET_FAVOURITE_STATUS",payload:n})}))},style:{backgroundImage:"url('/media/".concat(a.isFavourite?"heart-full":"heart",".svg')")}})},T=function(e){var a=e.song,n=e.size;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"song-info-container ".concat(n)},l.a.createElement("div",{className:"song-image",style:{backgroundImage:"url(".concat(a.image||"/media/logo.svg",")")}}),l.a.createElement("div",{className:"song-info"},l.a.createElement("div",{className:"song-name"},a.name),l.a.createElement("div",{className:"song-author"},a.author))))},_=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.playedSong}));return l.a.createElement("div",{className:"player-container"},l.a.createElement("div",{className:"player-song-info flex"},a?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,{song:a,size:"large"}),l.a.createElement(j,{songId:a.id,isFavourite:a.isFavourite})):l.a.createElement("div",{className:"player-empty"},"Choose your mood...")),l.a.createElement("div",{className:"player-progress"},l.a.createElement("span",{className:"player-progress-dot"})),l.a.createElement("div",{className:"player-actions flex"},l.a.createElement("button",{className:"player-btn player-btn-prev",onClick:function(){e((function(e){e({type:"SET_PREV_SONG"})}))},disabled:!a}),l.a.createElement("button",{className:"player-btn player-btn-play",onClick:function(){},disabled:!a}),l.a.createElement("button",{className:"player-btn player-btn-next",onClick:function(){e((function(e){e({type:"SET_NEXT_SONG"})}))},disabled:!a})))},A=function(e){var a=e.song,n=e.isPlayed,t=e.handlePlaySong;return l.a.createElement("div",{className:"song-container".concat(n?" song-active":"")},l.a.createElement(T,{song:a,size:"small"}),l.a.createElement("div",{className:"song-actions"},a.isFavourite&&l.a.createElement("div",{className:"song-favourite"}),l.a.createElement("button",{className:"button-play",onClick:function(){return t(a)}})))},F=function(){var e=Object(v.h)().albumId,a=Object(i.b)(),n=Object(i.c)((function(e){return e.songs})),r=Object(i.c)((function(e){return e.playedSong})),o=Object(i.c)((function(e){return e.isLoading}));Object(t.useEffect)((function(){g(!0);var e=setTimeout((function(){a((function(e){Promise.resolve(d).then((function(a){e({type:"SET_SONG_LIST",payload:a})})).catch((function(e){return console.error(e)})).finally((function(){e({type:"SET_LOADING_STATUS",payload:!1})}))}))}),1500);return function(){return clearTimeout(e)}}),[a,e]);var c=function(e){a(function(e){return function(a){a({type:"SET_PLAYED_SONG",payload:e})}}(e))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,null),o?l.a.createElement(S,null):n.map((function(e){return l.a.createElement(A,{key:e.id,song:e,isPlayed:r&&e.id===r.id,handlePlaySong:c})})))};var x=function(){var e=Object(v.g)();return l.a.createElement("div",null,l.a.createElement("h3",null,"No match for ",l.a.createElement("code",null,e.pathname)))},I=function(){return l.a.createElement(y,null,l.a.createElement(b.a,null,l.a.createElement(v.d,null,l.a.createElement(v.a,{exact:!0,from:"/",to:"/albums"}),l.a.createElement(v.b,{exact:!0,path:"/albums"},l.a.createElement(N,null)),l.a.createElement(v.a,{exact:!0,from:"/albums/:albumId",to:"/albums/:albumId/songs"}),l.a.createElement(v.b,{path:"/albums/:albumId/songs"},l.a.createElement(F,null)),l.a.createElement(v.b,{path:"*"},l.a.createElement(x,null)))))};o.a.render(l.a.createElement(i.a,{store:f},l.a.createElement(I,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.888617ca.chunk.js.map